{"ast":null,"code":"import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\n\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n  return toArray((parent.shadowRoot || parent).children).reduce(function (acc, child) {\n    return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n  }, []);\n};\n\nvar getFocusablesWithIFrame = function (parent, withGuards) {\n  var _a; // contentDocument of iframe will be null if current origin cannot access it\n\n\n  if (parent instanceof HTMLIFrameElement && ((_a = parent.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n    return getFocusables([parent.contentDocument.body], withGuards);\n  }\n\n  return [parent];\n};\n\nexport var getFocusables = function (parents, withGuards) {\n  return parents.reduce(function (acc, parent) {\n    var _a;\n\n    var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n\n    var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) {\n      return getFocusablesWithIFrame(node, withGuards);\n    }));\n\n    return acc.concat( // add all tabbables inside and within shadow DOMs in DOM order\n    focusableWithIframes, // add if node is tabbable itself\n    parent.parentNode ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) {\n      return node === parent;\n    }) : []);\n  }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\n\nexport var getParentAutofocusables = function (parent) {\n  var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n  return toArray(parentFocus).map(function (node) {\n    return getFocusables([node]);\n  }).reduce(function (acc, nodes) {\n    return acc.concat(nodes);\n  }, []);\n};","map":{"version":3,"sources":["/Users/vijay-chace/Desktop/Portfolio/Portfolio/node_modules/focus-lock/dist/es2015/utils/tabUtils.js"],"names":["FOCUS_AUTO","toArray","tabbables","queryTabbables","join","queryGuardTabbables","concat","getFocusablesWithShadowDom","parent","withGuards","shadowRoot","children","reduce","acc","child","matches","getFocusablesWithIFrame","_a","HTMLIFrameElement","contentDocument","body","getFocusables","parents","focusableWithShadowDom","focusableWithIframes","apply","map","node","parentNode","querySelectorAll","filter","getParentAutofocusables","parentFocus","nodes"],"mappings":"AAAA,SAASA,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,IAAIC,cAAc,GAAGD,SAAS,CAACE,IAAV,CAAe,GAAf,CAArB;AACA,IAAIC,mBAAmB,GAAG,GAAGC,MAAH,CAAUH,cAAV,EAA0B,sBAA1B,CAA1B;;AACA,IAAII,0BAA0B,GAAG,UAAUC,MAAV,EAAkBC,UAAlB,EAA8B;AAC3D,SAAOR,OAAO,CAAC,CAACO,MAAM,CAACE,UAAP,IAAqBF,MAAtB,EAA8BG,QAA/B,CAAP,CAAgDC,MAAhD,CAAuD,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAChF,WAAOD,GAAG,CAACP,MAAJ,CAAWQ,KAAK,CAACC,OAAN,CAAcN,UAAU,GAAGJ,mBAAH,GAAyBF,cAAjD,IAAmE,CAACW,KAAD,CAAnE,GAA6E,EAAxF,EAA4FP,0BAA0B,CAACO,KAAD,CAAtH,CAAP;AACH,GAFM,EAEJ,EAFI,CAAP;AAGH,CAJD;;AAKA,IAAIE,uBAAuB,GAAG,UAAUR,MAAV,EAAkBC,UAAlB,EAA8B;AACxD,MAAIQ,EAAJ,CADwD,CAExD;;;AACA,MAAIT,MAAM,YAAYU,iBAAlB,KAAwC,CAACD,EAAE,GAAGT,MAAM,CAACW,eAAb,MAAkC,IAAlC,IAA0CF,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACG,IAA9G,CAAJ,EAAyH;AACrH,WAAOC,aAAa,CAAC,CAACb,MAAM,CAACW,eAAP,CAAuBC,IAAxB,CAAD,EAAgCX,UAAhC,CAApB;AACH;;AACD,SAAO,CAACD,MAAD,CAAP;AACH,CAPD;;AAQA,OAAO,IAAIa,aAAa,GAAG,UAAUC,OAAV,EAAmBb,UAAnB,EAA+B;AACtD,SAAOa,OAAO,CAACV,MAAR,CAAe,UAAUC,GAAV,EAAeL,MAAf,EAAuB;AACzC,QAAIS,EAAJ;;AACA,QAAIM,sBAAsB,GAAGhB,0BAA0B,CAACC,MAAD,EAASC,UAAT,CAAvD;;AACA,QAAIe,oBAAoB,GAAG,CAACP,EAAE,GAAG,EAAN,EAAUX,MAAV,CAAiBmB,KAAjB,CAAuBR,EAAvB,EAA2BM,sBAAsB,CAACG,GAAvB,CAA2B,UAAUC,IAAV,EAAgB;AAAE,aAAOX,uBAAuB,CAACW,IAAD,EAAOlB,UAAP,CAA9B;AAAmD,KAAhG,CAA3B,CAA3B;;AACA,WAAOI,GAAG,CAACP,MAAJ,EACP;AACAkB,IAAAA,oBAFO,EAGP;AACAhB,IAAAA,MAAM,CAACoB,UAAP,GACM3B,OAAO,CAACO,MAAM,CAACoB,UAAP,CAAkBC,gBAAlB,CAAmC1B,cAAnC,CAAD,CAAP,CAA4D2B,MAA5D,CAAmE,UAAUH,IAAV,EAAgB;AAAE,aAAOA,IAAI,KAAKnB,MAAhB;AAAyB,KAA9G,CADN,GAEM,EANC,CAAP;AAOH,GAXM,EAWJ,EAXI,CAAP;AAYH,CAbM;AAcP;AACA;AACA;AACA;;AACA,OAAO,IAAIuB,uBAAuB,GAAG,UAAUvB,MAAV,EAAkB;AACnD,MAAIwB,WAAW,GAAGxB,MAAM,CAACqB,gBAAP,CAAwB,IAAIvB,MAAJ,CAAWN,UAAX,EAAuB,GAAvB,CAAxB,CAAlB;AACA,SAAOC,OAAO,CAAC+B,WAAD,CAAP,CACFN,GADE,CACE,UAAUC,IAAV,EAAgB;AAAE,WAAON,aAAa,CAAC,CAACM,IAAD,CAAD,CAApB;AAA+B,GADnD,EAEFf,MAFE,CAEK,UAAUC,GAAV,EAAeoB,KAAf,EAAsB;AAAE,WAAOpB,GAAG,CAACP,MAAJ,CAAW2B,KAAX,CAAP;AAA2B,GAFxD,EAE0D,EAF1D,CAAP;AAGH,CALM","sourcesContent":["import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n    return toArray((parent.shadowRoot || parent).children).reduce(function (acc, child) {\n        return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n    }, []);\n};\nvar getFocusablesWithIFrame = function (parent, withGuards) {\n    var _a;\n    // contentDocument of iframe will be null if current origin cannot access it\n    if (parent instanceof HTMLIFrameElement && ((_a = parent.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        return getFocusables([parent.contentDocument.body], withGuards);\n    }\n    return [parent];\n};\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        var _a;\n        var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n        var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) { return getFocusablesWithIFrame(node, withGuards); }));\n        return acc.concat(\n        // add all tabbables inside and within shadow DOMs in DOM order\n        focusableWithIframes, \n        // add if node is tabbable itself\n        parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n"]},"metadata":{},"sourceType":"module"}