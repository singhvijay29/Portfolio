{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nimport { focusScope } from './scope';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n\n  var _React$useState = React.useState(),\n      realObserved = _React$useState[0],\n      setObserved = _React$useState[1];\n\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n\n  var _React$useState2 = React.useState({}),\n      update = _React$useState2[1];\n\n  var children = props.children,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$noFocusGuards = props.noFocusGuards,\n      noFocusGuards = _props$noFocusGuards === void 0 ? false : _props$noFocusGuards,\n      _props$persistentFocu = props.persistentFocus,\n      persistentFocus = _props$persistentFocu === void 0 ? false : _props$persistentFocu,\n      _props$crossFrame = props.crossFrame,\n      crossFrame = _props$crossFrame === void 0 ? true : _props$crossFrame,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      hasPositiveIndices = props.hasPositiveIndices,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      _props$returnFocus = props.returnFocus,\n      shouldReturnFocus = _props$returnFocus === void 0 ? false : _props$returnFocus,\n      focusOptions = props.focusOptions,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState3 = React.useState({}),\n      id = _React$useState3[0];\n\n  var onActivation = React.useCallback(function (_ref) {\n    var captureFocusRestore = _ref.captureFocusRestore;\n\n    if (!originalFocusedElement.current) {\n      var _document;\n\n      var activeElement = (_document = document) == null ? void 0 : _document.activeElement;\n      originalFocusedElement.current = activeElement;\n\n      if (activeElement !== document.body) {\n        originalFocusedElement.current = captureFocusRestore(activeElement);\n      }\n    }\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n    update();\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n\n    update();\n  }, [onDeactivationCallback]);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var focusRestore = originalFocusedElement.current;\n\n    if (focusRestore) {\n      var returnFocusTo = (typeof focusRestore === 'function' ? focusRestore() : focusRestore) || document.body;\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n\n        if (allowDefer) {\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]);\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium;\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      if (!observed.current && typeof Container !== 'string') {\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  var focusScopeValue = React.useMemo(function () {\n    return {\n      observed: observed,\n      shards: shards,\n      enabled: !disabled,\n      active: isActive.current\n    };\n  }, [disabled, isActive.current, shards, realObserved]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [/*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), /*#__PURE__*/React.createElement(focusScope.Provider, {\n    value: focusScopeValue\n  }, children)), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object, func]),\n  focusOptions: object,\n  noFocusGuards: bool,\n  hasPositiveIndices: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nexport default FocusLock;","map":{"version":3,"sources":["/Users/vijay-chace/Desktop/Portfolio/Portfolio/node_modules/react-focus-lock/dist/es2015/Lock.js"],"names":["_extends","React","node","bool","string","any","arrayOf","oneOfType","object","func","constants","useMergeRefs","hiddenGuard","mediumFocus","mediumBlur","mediumSidecar","focusScope","emptyArray","FocusLock","forwardRef","FocusLockUI","props","parentRef","_extends2","_React$useState","useState","realObserved","setObserved","observed","useRef","isActive","originalFocusedElement","_React$useState2","update","children","_props$disabled","disabled","_props$noFocusGuards","noFocusGuards","_props$persistentFocu","persistentFocus","_props$crossFrame","crossFrame","_props$autoFocus","autoFocus","allowTextSelection","group","className","whiteList","hasPositiveIndices","_props$shards","shards","_props$as","as","Container","_props$lockProps","lockProps","containerProps","SideCar","sideCar","_props$returnFocus","returnFocus","shouldReturnFocus","focusOptions","onActivationCallback","onActivation","onDeactivationCallback","onDeactivation","_React$useState3","id","useCallback","_ref","captureFocusRestore","current","_document","activeElement","document","body","allowDefer","focusRestore","returnFocusTo","howToReturnFocus","returnFocusOptions","undefined","Promise","resolve","then","focus","onFocus","event","useMedium","onBlur","setObserveNode","newObserved","process","env","NODE_ENV","console","warn","useEffect","error","FOCUS_DISABLED","FOCUS_GROUP","hasLeadingGuards","hasTailingGuards","mergedRef","focusScopeValue","useMemo","enabled","active","createElement","Fragment","key","tabIndex","style","ref","Provider","value","propTypes","isRequired"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nimport { focusScope } from './scope';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/React.forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n  var _React$useState = React.useState(),\n    realObserved = _React$useState[0],\n    setObserved = _React$useState[1];\n  var observed = React.useRef();\n  var isActive = React.useRef(false);\n  var originalFocusedElement = React.useRef(null);\n  var _React$useState2 = React.useState({}),\n    update = _React$useState2[1];\n  var children = props.children,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$noFocusGuards = props.noFocusGuards,\n    noFocusGuards = _props$noFocusGuards === void 0 ? false : _props$noFocusGuards,\n    _props$persistentFocu = props.persistentFocus,\n    persistentFocus = _props$persistentFocu === void 0 ? false : _props$persistentFocu,\n    _props$crossFrame = props.crossFrame,\n    crossFrame = _props$crossFrame === void 0 ? true : _props$crossFrame,\n    _props$autoFocus = props.autoFocus,\n    autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,\n    allowTextSelection = props.allowTextSelection,\n    group = props.group,\n    className = props.className,\n    whiteList = props.whiteList,\n    hasPositiveIndices = props.hasPositiveIndices,\n    _props$shards = props.shards,\n    shards = _props$shards === void 0 ? emptyArray : _props$shards,\n    _props$as = props.as,\n    Container = _props$as === void 0 ? 'div' : _props$as,\n    _props$lockProps = props.lockProps,\n    containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n    SideCar = props.sideCar,\n    _props$returnFocus = props.returnFocus,\n    shouldReturnFocus = _props$returnFocus === void 0 ? false : _props$returnFocus,\n    focusOptions = props.focusOptions,\n    onActivationCallback = props.onActivation,\n    onDeactivationCallback = props.onDeactivation;\n  var _React$useState3 = React.useState({}),\n    id = _React$useState3[0];\n  var onActivation = React.useCallback(function (_ref) {\n    var captureFocusRestore = _ref.captureFocusRestore;\n    if (!originalFocusedElement.current) {\n      var _document;\n      var activeElement = (_document = document) == null ? void 0 : _document.activeElement;\n      originalFocusedElement.current = activeElement;\n      if (activeElement !== document.body) {\n        originalFocusedElement.current = captureFocusRestore(activeElement);\n      }\n    }\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n    isActive.current = true;\n    update();\n  }, [onActivationCallback]);\n  var onDeactivation = React.useCallback(function () {\n    isActive.current = false;\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n    update();\n  }, [onDeactivationCallback]);\n  var returnFocus = React.useCallback(function (allowDefer) {\n    var focusRestore = originalFocusedElement.current;\n    if (focusRestore) {\n      var returnFocusTo = (typeof focusRestore === 'function' ? focusRestore() : focusRestore) || document.body;\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n        if (allowDefer) {\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]);\n  var onFocus = React.useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium;\n  var setObserveNode = React.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n    React.useEffect(function () {\n      if (!observed.current && typeof Container !== 'string') {\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  var focusScopeValue = React.useMemo(function () {\n    return {\n      observed: observed,\n      shards: shards,\n      enabled: !disabled,\n      active: isActive.current\n    };\n  }, [disabled, isActive.current, shards, realObserved]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), /*#__PURE__*/React.createElement(focusScope.Provider, {\n    value: focusScopeValue\n  }, children)), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object, func]),\n  focusOptions: object,\n  noFocusGuards: bool,\n  hasPositiveIndices: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nexport default FocusLock;"]},"metadata":{},"sourceType":"module"}