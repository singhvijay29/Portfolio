{"ast":null,"code":"import { useCallback, useRef, useState, useEffect } from 'react';\nimport { createNanoEvents } from './nano-events';\nvar mainbus = createNanoEvents();\nvar subscribeCounter = 0;\n\nvar onFocusIn = function onFocusIn(event) {\n  return mainbus.emit('assign', event.target);\n};\n\nvar onFocusOut = function onFocusOut(event) {\n  return mainbus.emit('reset', event.target);\n};\n\nvar useDocumentFocusSubscribe = function useDocumentFocusSubscribe() {\n  useEffect(function () {\n    if (!subscribeCounter) {\n      document.addEventListener('focusin', onFocusIn);\n      document.addEventListener('focusout', onFocusOut);\n    }\n\n    subscribeCounter += 1;\n    return function () {\n      subscribeCounter -= 1;\n\n      if (!subscribeCounter) {\n        document.removeEventListener('focusin', onFocusIn);\n        document.removeEventListener('focusout', onFocusOut);\n      }\n    };\n  }, []);\n};\n\nvar getFocusState = function getFocusState(target, current) {\n  if (target === current) {\n    return 'self';\n  }\n\n  if (current.contains(target)) {\n    return 'within';\n  }\n\n  return 'within-boundary';\n};\n\nexport var useFocusState = function useFocusState(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(''),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var ref = useRef(null);\n  var focusState = useRef({});\n  var stateTracker = useRef(false);\n  useEffect(function () {\n    if (ref.current) {\n      var isAlreadyFocused = ref.current === document.activeElement || ref.current.contains(document.activeElement);\n      setActive(isAlreadyFocused);\n      setState(getFocusState(document.activeElement, ref.current));\n\n      if (isAlreadyFocused && callbacks.onFocus) {\n        callbacks.onFocus();\n      }\n    }\n  }, []);\n  var onFocus = useCallback(function (e) {\n    focusState.current = {\n      focused: true,\n      state: getFocusState(e.target, e.currentTarget)\n    };\n  }, []);\n  useDocumentFocusSubscribe();\n  useEffect(function () {\n    var fout = mainbus.on('reset', function () {\n      focusState.current = {};\n    });\n    var fin = mainbus.on('assign', function () {\n      var newState = focusState.current.focused || false;\n      setActive(newState);\n      setState(focusState.current.state || '');\n\n      if (newState !== stateTracker.current) {\n        stateTracker.current = newState;\n\n        if (newState) {\n          callbacks.onFocus && callbacks.onFocus();\n        } else {\n          callbacks.onBlur && callbacks.onBlur();\n        }\n      }\n    });\n    return function () {\n      fout();\n      fin();\n    };\n  }, []);\n  return {\n    active: active,\n    state: state,\n    onFocus: onFocus,\n    ref: ref\n  };\n};","map":{"version":3,"sources":["/Users/vijay-chace/Desktop/Portfolio/Portfolio/node_modules/react-focus-lock/dist/es2015/use-focus-state.js"],"names":["useCallback","useRef","useState","useEffect","createNanoEvents","mainbus","subscribeCounter","onFocusIn","event","emit","target","onFocusOut","useDocumentFocusSubscribe","document","addEventListener","removeEventListener","getFocusState","current","contains","useFocusState","callbacks","_useState","active","setActive","_useState2","state","setState","ref","focusState","stateTracker","isAlreadyFocused","activeElement","onFocus","e","focused","currentTarget","fout","on","fin","newState","onBlur"],"mappings":"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","sourcesContent":["import { useCallback, useRef, useState, useEffect } from 'react';\nimport { createNanoEvents } from './nano-events';\nvar mainbus = createNanoEvents();\nvar subscribeCounter = 0;\nvar onFocusIn = function onFocusIn(event) {\n  return mainbus.emit('assign', event.target);\n};\nvar onFocusOut = function onFocusOut(event) {\n  return mainbus.emit('reset', event.target);\n};\nvar useDocumentFocusSubscribe = function useDocumentFocusSubscribe() {\n  useEffect(function () {\n    if (!subscribeCounter) {\n      document.addEventListener('focusin', onFocusIn);\n      document.addEventListener('focusout', onFocusOut);\n    }\n    subscribeCounter += 1;\n    return function () {\n      subscribeCounter -= 1;\n      if (!subscribeCounter) {\n        document.removeEventListener('focusin', onFocusIn);\n        document.removeEventListener('focusout', onFocusOut);\n      }\n    };\n  }, []);\n};\nvar getFocusState = function getFocusState(target, current) {\n  if (target === current) {\n    return 'self';\n  }\n  if (current.contains(target)) {\n    return 'within';\n  }\n  return 'within-boundary';\n};\nexport var useFocusState = function useFocusState(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n  var _useState = useState(false),\n    active = _useState[0],\n    setActive = _useState[1];\n  var _useState2 = useState(''),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var ref = useRef(null);\n  var focusState = useRef({});\n  var stateTracker = useRef(false);\n  useEffect(function () {\n    if (ref.current) {\n      var isAlreadyFocused = ref.current === document.activeElement || ref.current.contains(document.activeElement);\n      setActive(isAlreadyFocused);\n      setState(getFocusState(document.activeElement, ref.current));\n      if (isAlreadyFocused && callbacks.onFocus) {\n        callbacks.onFocus();\n      }\n    }\n  }, []);\n  var onFocus = useCallback(function (e) {\n    focusState.current = {\n      focused: true,\n      state: getFocusState(e.target, e.currentTarget)\n    };\n  }, []);\n  useDocumentFocusSubscribe();\n  useEffect(function () {\n    var fout = mainbus.on('reset', function () {\n      focusState.current = {};\n    });\n    var fin = mainbus.on('assign', function () {\n      var newState = focusState.current.focused || false;\n      setActive(newState);\n      setState(focusState.current.state || '');\n      if (newState !== stateTracker.current) {\n        stateTracker.current = newState;\n        if (newState) {\n          callbacks.onFocus && callbacks.onFocus();\n        } else {\n          callbacks.onBlur && callbacks.onBlur();\n        }\n      }\n    });\n    return function () {\n      fout();\n      fin();\n    };\n  }, []);\n  return {\n    active: active,\n    state: state,\n    onFocus: onFocus,\n    ref: ref\n  };\n};"]},"metadata":{},"sourceType":"module"}