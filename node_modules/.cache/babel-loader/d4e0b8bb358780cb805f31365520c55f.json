{"ast":null,"code":"import { trackElementSize } from './track-size.mjs';\n\nfunction trackElementsSize(options) {\n  const {\n    getNodes,\n    observeMutation = true,\n    callback\n  } = options;\n  const cleanups = [];\n  let firstNode = null;\n\n  function trigger() {\n    const elements = getNodes();\n    firstNode = elements[0];\n    const fns = elements.map((element, index) => trackElementSize(element, size => {\n      callback(size, index);\n    }));\n    cleanups.push(...fns);\n  }\n\n  trigger();\n\n  if (observeMutation) {\n    const fn = trackMutation(firstNode, trigger);\n    cleanups.push(fn);\n  }\n\n  return () => {\n    cleanups.forEach(cleanup => {\n      cleanup?.();\n    });\n  };\n}\n\nfunction trackMutation(el, cb) {\n  if (!el || !el.parentElement) return;\n  const win = el.ownerDocument?.defaultView ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return () => {\n    observer.disconnect();\n  };\n}\n\nexport { trackElementsSize };","map":{"version":3,"sources":["/Users/vijay-chace/Desktop/Portfolio/Portfolio/node_modules/@zag-js/element-size/dist/track-sizes.mjs"],"names":["trackElementSize","trackElementsSize","options","getNodes","observeMutation","callback","cleanups","firstNode","trigger","elements","fns","map","element","index","size","push","fn","trackMutation","forEach","cleanup","el","cb","parentElement","win","ownerDocument","defaultView","window","observer","MutationObserver","observe","childList","disconnect"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;;AAEA,SAASC,iBAAT,CAA2BC,OAA3B,EAAoC;AAClC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,eAAe,GAAG,IAA9B;AAAoCC,IAAAA;AAApC,MAAiDH,OAAvD;AACA,QAAMI,QAAQ,GAAG,EAAjB;AACA,MAAIC,SAAS,GAAG,IAAhB;;AACA,WAASC,OAAT,GAAmB;AACjB,UAAMC,QAAQ,GAAGN,QAAQ,EAAzB;AACAI,IAAAA,SAAS,GAAGE,QAAQ,CAAC,CAAD,CAApB;AACA,UAAMC,GAAG,GAAGD,QAAQ,CAACE,GAAT,CACV,CAACC,OAAD,EAAUC,KAAV,KAAoBb,gBAAgB,CAACY,OAAD,EAAWE,IAAD,IAAU;AACtDT,MAAAA,QAAQ,CAACS,IAAD,EAAOD,KAAP,CAAR;AACD,KAFmC,CAD1B,CAAZ;AAKAP,IAAAA,QAAQ,CAACS,IAAT,CAAc,GAAGL,GAAjB;AACD;;AACDF,EAAAA,OAAO;;AACP,MAAIJ,eAAJ,EAAqB;AACnB,UAAMY,EAAE,GAAGC,aAAa,CAACV,SAAD,EAAYC,OAAZ,CAAxB;AACAF,IAAAA,QAAQ,CAACS,IAAT,CAAcC,EAAd;AACD;;AACD,SAAO,MAAM;AACXV,IAAAA,QAAQ,CAACY,OAAT,CAAkBC,OAAD,IAAa;AAC5BA,MAAAA,OAAO;AACR,KAFD;AAGD,GAJD;AAKD;;AACD,SAASF,aAAT,CAAuBG,EAAvB,EAA2BC,EAA3B,EAA+B;AAC7B,MAAI,CAACD,EAAD,IAAO,CAACA,EAAE,CAACE,aAAf,EACE;AACF,QAAMC,GAAG,GAAGH,EAAE,CAACI,aAAH,EAAkBC,WAAlB,IAAiCC,MAA7C;AACA,QAAMC,QAAQ,GAAG,IAAIJ,GAAG,CAACK,gBAAR,CAAyB,MAAM;AAC9CP,IAAAA,EAAE;AACH,GAFgB,CAAjB;AAGAM,EAAAA,QAAQ,CAACE,OAAT,CAAiBT,EAAE,CAACE,aAApB,EAAmC;AAAEQ,IAAAA,SAAS,EAAE;AAAb,GAAnC;AACA,SAAO,MAAM;AACXH,IAAAA,QAAQ,CAACI,UAAT;AACD,GAFD;AAGD;;AAED,SAAS9B,iBAAT","sourcesContent":["import { trackElementSize } from './track-size.mjs';\n\nfunction trackElementsSize(options) {\n  const { getNodes, observeMutation = true, callback } = options;\n  const cleanups = [];\n  let firstNode = null;\n  function trigger() {\n    const elements = getNodes();\n    firstNode = elements[0];\n    const fns = elements.map(\n      (element, index) => trackElementSize(element, (size) => {\n        callback(size, index);\n      })\n    );\n    cleanups.push(...fns);\n  }\n  trigger();\n  if (observeMutation) {\n    const fn = trackMutation(firstNode, trigger);\n    cleanups.push(fn);\n  }\n  return () => {\n    cleanups.forEach((cleanup) => {\n      cleanup?.();\n    });\n  };\n}\nfunction trackMutation(el, cb) {\n  if (!el || !el.parentElement)\n    return;\n  const win = el.ownerDocument?.defaultView ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, { childList: true });\n  return () => {\n    observer.disconnect();\n  };\n}\n\nexport { trackElementsSize };\n"]},"metadata":{},"sourceType":"module"}